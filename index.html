<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>QWERTY Casino</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      --bg: #000000;
      --card: #1a1a1a;
      --accent: #ffd700;
      --text: #ffffff;
      --green: #00ff00;
      --red: #ff4444;
      --blue: #3399ff;
      --purple: #9966cc;
      --live: #ff4444;
    }

    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overflow-x: hidden;
      padding-bottom: 80px;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .container { padding: 16px; }

    /* Status Bar */
    .status-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 16px;
      font-size: 14px;
      background: var(--bg);
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 0 10px;
    }
    .back-btn, .close-btn {
      background: none;
      border: none;
      color: var(--text);
      font-size: 20px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .page-title {
      font-size: 18px;
      font-weight: bold;
    }

    /* User Info */
    .user-info {
      text-align: center;
      margin: 20px 0;
    }
    .user-id {
      color: #666;
      font-size: 14px;
      margin-bottom: 10px;
    }
    .balance-section {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 15px 0;
    }
    .balance-item {
      text-align: center;
    }
    .balance-value {
      font-size: 24px;
      font-weight: bold;
    }
    .balance-label {
      font-size: 12px;
      color: #666;
      margin-top: 5px;
    }

    /* Inventory */
    .inventory-section {
      background: var(--card);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
    }
    .inventory-title {
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
    }
    .inventory-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .inventory-item {
      background: #2a2a2a;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }
    .item-icon {
      font-size: 24px;
      margin-bottom: 5px;
    }
    .item-name {
      font-size: 12px;
      margin-bottom: 5px;
    }
    .item-count {
      color: var(--accent);
      font-weight: bold;
      font-size: 14px;
    }

    /* Live Section */
    .live-section {
      background: var(--live);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
    }
    .live-title {
      font-weight: bold;
      text-align: center;
      margin-bottom: 15px;
      font-size: 20px;
    }

    /* Menu Grid */
    .menu-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 15px 0;
    }
    .menu-item {
      background: var(--card);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      border: 1px solid #333;
      transition: all 0.2s ease;
    }
    .menu-item:active {
      transform: scale(0.95);
      background: #2a2a2a;
    }
    .menu-main {
      font-weight: bold;
      margin-bottom: 5px;
    }
    .menu-sub {
      color: #666;
      font-size: 14px;
    }
    .new-badge {
      background: var(--green);
      color: #000;
      padding: 2px 6px;
      border-radius: 8px;
      font-size: 10px;
      margin-left: 5px;
    }

    /* Case Wheel */
    .wheel-container {
      position: relative;
      margin: 30px 0;
      overflow: hidden;
      height: 120px;
    }
    .wheel {
      display: flex;
      gap: 10px;
      transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);
    }
    .wheel-item {
      background: var(--card);
      border-radius: 12px;
      padding: 15px;
      min-width: 100px;
      text-align: center;
      border: 2px solid #333;
      flex-shrink: 0;
    }
    .wheel-icon {
      font-size: 24px;
      margin-bottom: 5px;
    }
    .wheel-amount {
      font-weight: bold;
      color: var(--accent);
    }
    .wheel-pointer {
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      font-size: 24px;
      color: var(--accent);
      z-index: 10;
    }

    /* Roulette */
    .roulette-container {
      text-align: center;
      margin: 20px 0;
    }
    .roulette-wheel {
      width: 280px;
      height: 280px;
      margin: 0 auto 20px;
      position: relative;
      border-radius: 50%;
      border: 8px solid #333;
      background: conic-gradient(
        from 0deg,
        #dc2626 0deg 180deg,
        #000000 180deg 360deg
      );
      transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
    }
    .roulette-ball {
      width: 20px;
      height: 20px;
      background: #fff;
      border-radius: 50%;
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      box-shadow: 0 0 10px rgba(255,255,255,0.8);
      transition: top 0.5s ease-in-out;
    }

    /* Slots */
    .slots-container {
      text-align: center;
      margin: 20px 0;
    }
    .slots-machine {
      background: var(--card);
      border-radius: 15px;
      padding: 20px;
      margin: 20px auto;
      max-width: 300px;
      border: 2px solid var(--accent);
    }
    .slots-reels {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }
    .reel {
      width: 70px;
      height: 70px;
      background: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      overflow: hidden;
      position: relative;
      border: 2px solid var(--accent);
    }
    .reel-content {
      position: absolute;
      width: 100%;
      text-align: center;
    }

    /* Buttons */
    .action-buttons {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }
    .action-btn {
      flex: 1;
      background: var(--card);
      border: 1px solid #333;
      border-radius: 10px;
      padding: 12px;
      color: var(--text);
      text-align: center;
      font-size: 14px;
      transition: all 0.2s ease;
    }
    .action-btn:active {
      transform: scale(0.95);
    }
    .action-btn.active {
      background: var(--accent);
      color: #000;
    }
    .spin-btn {
      background: var(--accent);
      color: #000;
      border: none;
      border-radius: 12px;
      padding: 16px;
      font-weight: bold;
      width: 100%;
      margin: 15px 0;
      transition: all 0.2s ease;
    }
    .spin-btn:active {
      transform: scale(0.95);
    }

    /* Input */
    .input-field {
      background: var(--card);
      border: 1px solid #333;
      border-radius: 10px;
      padding: 12px;
      color: var(--text);
      width: 100%;
      margin: 10px 0;
      text-align: center;
      font-size: 16px;
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--card);
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
      border-top: 1px solid #333;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      color: #666;
      font-size: 12px;
      transition: all 0.2s ease;
    }
    .nav-item:active {
      transform: scale(0.9);
    }
    .nav-item.active {
      color: var(--accent);
    }

    /* Sections */
    .section {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    .section.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* New Badge */
    .new-tag {
      text-align: center;
      margin: 15px 0;
    }
    .new-badge-inline {
      background: var(--green);
      color: #000;
      padding: 4px 8px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: bold;
    }

    /* Modal Animation */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal.active {
      display: flex;
      animation: fadeIn 0.3s ease;
    }
    .modal-content {
      background: var(--card);
      border-radius: 20px;
      padding: 20px;
      margin: 20px;
      width: 100%;
      max-width: 400px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }
    .modal.active .modal-content {
      transform: translateY(0);
    }

    /* Eggs Grid */
    .eggs-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 20px 0;
    }
    .egg-item {
      background: var(--card);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      border: 1px solid #333;
    }
    .egg-name {
      font-weight: bold;
      margin-bottom: 8px;
    }
    .egg-price {
      color: var(--accent);
      font-weight: bold;
    }

    /* Contests Grid */
    .contests-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 20px 0;
    }
    .contest-item {
      background: var(--card);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      border: 1px solid #333;
    }
    .contest-number {
      font-size: 18px;
      margin-bottom: 8px;
    }
    .contest-prize {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 8px;
    }
    .contest-label {
      color: #666;
      font-size: 14px;
    }

    /* Leaders Timer */
    .timer {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin: 20px 0;
    }
    .time-unit {
      background: #2a2a2a;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
      min-width: 50px;
    }
    .time-value {
      font-size: 18px;
      font-weight: bold;
    }
    .time-label {
      font-size: 12px;
      color: #666;
    }

    /* Roulette Items */
    .roulette-items {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin: 20px 0;
    }
    .roulette-item {
      background: var(--card);
      border-radius: 12px;
      padding: 15px;
      border: 1px solid #333;
    }
    .item-limit {
      color: #666;
      font-size: 12px;
      margin-bottom: 5px;
    }
    .item-name {
      font-weight: bold;
      margin-bottom: 5px;
    }
    .item-price {
      color: var(--accent);
      font-weight: bold;
    }
  </style>
</head>
<body>

  <!-- Status Bar -->
  <div class="status-bar">
    <div>08:39</div>
    <div>LTE 96</div>
  </div>

  <!-- Main Section -->
  <div id="main" class="section active">
    <div class="container">
      <div class="header">
        <div class="back-btn" style="visibility: hidden;">‚Üê</div>
        <div class="page-title">QWERTY Casino</div>
        <div class="close-btn" onclick="openSection('main')">√ó</div>
      </div>

      <div class="user-info">
        <div class="user-id" id="userId">ID: Loading...</div>
        <div class="balance-section">
          <div class="balance-item">
            <div class="balance-value" id="balanceStars">0</div>
            <div class="balance-label">–ó–≤–µ–∑–¥—ã</div>
          </div>
          <div class="balance-item">
            <div class="balance-value" id="balanceCoins">0</div>
            <div class="balance-label">–ú–æ–Ω–µ—Ç—ã</div>
          </div>
        </div>
      </div>

      <div class="inventory-section">
        <div class="inventory-title">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
        <div class="inventory-grid" id="inventoryGrid">
          <!-- Inventory items will be loaded by JavaScript -->
        </div>
      </div>

      <div class="live-section">
        <div class="live-title">LIVE</div>
        <div class="menu-grid">
          <div class="menu-item" onclick="openSection('free')">
            <div class="menu-main">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
            <div class="menu-sub">2 –∫–µ–π—Å–æ–≤</div>
          </div>
          <div class="menu-item" onclick="openModal('rouletteModal')">
            <div class="menu-main">–†—É–ª–µ—Ç–∫–∞</div>
            <div class="menu-sub">12 –∫–µ–π—Å–æ–≤</div>
          </div>
          <div class="menu-item" onclick="openSection('slots')">
            <div class="menu-main">–°–ª–æ—Ç—ã <span class="new-badge">–ù–æ–≤–æ–µ</span></div>
          </div>
          <div class="menu-item" onclick="openSection('promo')">
            <div class="menu-main">–ü—Ä–æ–º–æ–∫–æ–¥</div>
          </div>
          <div class="menu-item" onclick="openModal('depositModal')">
            <div class="menu-main">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</div>
          </div>
          <div class="menu-item" onclick="openModal('giftModal')">
            <div class="menu-main">–ü–æ–¥–∞—Ä–∫–∏</div>
          </div>
        </div>
      </div>

      <div class="new-tag">
        <span class="new-badge-inline">new</span>
        <span style="margin-left: 8px;">5</span>
      </div>
    </div>
  </div>

  <!-- Free Section -->
  <div id="free" class="section">
    <div class="container">
      <div class="header">
        <div class="back-btn" onclick="openSection('main')">‚Üê</div>
        <div class="page-title">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
        <div class="close-btn" onclick="openSection('main')">√ó</div>
      </div>

      <div class="free-section">
        <div class="free-title">–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–∞—Ö!</div>
        <div class="free-grid">
          <div class="free-item">
            <div class="free-name">Daily</div>
            <div class="free-value">0</div>
          </div>
          <div class="free-item">
            <div class="free-name">Tic...</div>
            <div class="free-value">10</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Cases Section -->
  <div id="cases" class="section">
    <div class="container">
      <div class="header">
        <div class="back-btn" onclick="openSection('main')">‚Üê</div>
        <div class="page-title">–ö–µ–π—Å—ã</div>
        <div class="close-btn" onclick="openSection('main')">√ó</div>
      </div>

      <div class="wheel-container">
        <div class="wheel-pointer">üéØ</div>
        <div class="wheel" id="caseWheel"></div>
      </div>

      <div class="action-buttons">
        <div class="action-btn" onclick="selectCasePrice(1000)">1000</div>
        <div class="action-btn active" onclick="selectCasePrice(5000)">5000</div>
      </div>

      <button class="spin-btn" onclick="spinCaseWheel()">–ö—Ä—É—Ç–∏—Ç—å –∑–∞ 5000</button>
    </div>
  </div>

  <!-- Slots Section -->
  <div id="slots" class="section">
    <div class="container">
      <div class="header">
        <div class="back-btn" onclick="openSection('main')">‚Üê</div>
        <div class="page-title">–°–ª–æ—Ç—ã</div>
        <div class="close-btn" onclick="openSection('main')">√ó</div>
      </div>

      <div class="slots-container">
        <div class="slots-machine">
          <div class="slots-reels">
            <div class="reel" id="reel1">
              <div class="reel-content">üçí</div>
            </div>
            <div class="reel" id="reel2">
              <div class="reel-content">üçã</div>
            </div>
            <div class="reel" id="reel3">
              <div class="reel-content">üçä</div>
            </div>
          </div>
          <input type="number" class="input-field" placeholder="–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏" id="slotsBet">
          <button class="spin-btn" onclick="spinSlots()">üé∞ –ö—Ä—É—Ç–∏—Ç—å!</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Promo Section -->
  <div id="promo" class="section">
    <div class="container">
      <div class="header">
        <div class="back-btn" onclick="openSection('main')">‚Üê</div>
        <div class="page-title">–ü—Ä–æ–º–æ–∫–æ–¥</div>
        <div class="close-btn" onclick="openSection('main')">√ó</div>
      </div>

      <input type="text" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥" id="promoCode">
      <button class="spin-btn" onclick="applyPromo()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>
  </div>

  <!-- Modals -->
  <div class="modal" id="rouletteModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('rouletteModal')">‚Üê</div>
        <div class="page-title">–†—É–ª–µ—Ç–∫–∞</div>
        <div class="close-btn" onclick="closeModal('rouletteModal')">√ó</div>
      </div>

      <div class="roulette-items">
        <div class="roulette-item">
          <div class="item-limit">–õ–∏–º–∏—Ç</div>
          <div class="item-name">–ë–µ—Å–ø—Ä–æ–∏–≥—Ä...</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">11.11</div>
          <div class="item-price">‚òÖ 499</div>
        </div>
        <div class="roulette-item">
          <div class="item-limit">–õ–∏–º–∏—Ç</div>
          <div class="item-name">–ë–µ—Å–ø—Ä–æ–∏–≥—Ä...</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">11....</div>
          <div class="item-price">‚òÖ 999</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">P!...</div>
          <div class="item-price">‚òÖ 119</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">B....</div>
          <div class="item-price">‚òÖ 149</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">Sk...</div>
          <div class="item-price">‚òÖ 199</div>
        </div>
        <div class="roulette-item">
          <div class="item-name">L...</div>
          <div class="item-price">‚òÖ 249</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="eggsModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('eggsModal')">‚Üê</div>
        <div class="page-title">–Ø–π—Ü–∞</div>
        <div class="close-btn" onclick="closeModal('eggsModal')">√ó</div>
      </div>

      <div class="eggs-grid">
        <div class="egg-item">
          <div class="egg-name">3...</div>
          <div class="egg-price">149</div>
        </div>
        <div class="egg-item">
          <div class="egg-name">4...</div>
          <div class="egg-price">349</div>
        </div>
        <div class="egg-item">
          <div class="egg-name">5...</div>
          <div class="egg-price">549</div>
        </div>
        <div class="egg-item">
          <div class="egg-name">5...</div>
          <div class="egg-price">999</div>
        </div>
        <div class="egg-item">
          <div class="egg-name">–ë–µ—Å–ø—Ä–æ–∏–≥—Ä...</div>
        </div>
        <div class="egg-item">
          <div class="egg-name">5...</div>
          <div class="egg-price">2 999</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="contestsModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('contestsModal')">‚Üê</div>
        <div class="page-title">–†–æ–∑—ã–≥—Ä—ã—à–∏</div>
        <div class="close-btn" onclick="closeModal('contestsModal')">√ó</div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
        <div>–í—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –ø–æ–¥–∞—Ä–∫–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!</div>
      </div>

      <div class="contests-grid">
        <div class="contest-item">
          <div class="contest-number">3</div>
          <div class="contest-prize">455</div>
          <div class="contest-label">–ü—Ä–∏–∑—ã</div>
        </div>
        <div class="contest-item">
          <div class="contest-number">1187</div>
          <div class="contest-prize">1187</div>
          <div class="contest-label">–ü—Ä–∏–∑—ã</div>
        </div>
        <div class="contest-item">
          <div class="contest-number">9</div>
          <div class="contest-prize">10.3K</div>
          <div class="contest-label">–£—á–∞—Å—Ç–Ω–∏–∫–∏</div>
        </div>
        <div class="contest-item">
          <div class="contest-number">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</div>
          <div class="contest-prize">024</div>
          <div class="contest-label">727 443</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="leadersModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('leadersModal')">‚Üê</div>
        <div class="page-title">–õ–∏–¥–µ—Ä—ã</div>
        <div class="close-btn" onclick="closeModal('leadersModal')">√ó</div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
        <div>–¢—Ä–∞—Ç—å—Ç–µ –±–æ–ª—å—à–µ –∑–≤–µ–∑–¥, —á—Ç–æ–±—ã –ø–æ–¥–Ω—è—Ç—å—Å—è –≤ —Ç–æ–ø, –≥–¥–µ –≤–∞—Å –∂–¥—É—Ç –∫—Ä—É—Ç—ã–µ –Ω–∞–≥—Ä–∞–¥—ã!</div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
        <div>–î–æ –ø–æ–¥–≤–µ–¥–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å</div>
        <div class="timer">
          <div class="time-unit">
            <div class="time-value">3</div>
            <div class="time-label">–¥–Ω–∏</div>
          </div>
          <div class="time-unit">
            <div class="time-value">15</div>
            <div class="time-label">—á–∞—Å—ã</div>
          </div>
          <div class="time-unit">
            <div class="time-value">21</div>
            <div class="time-label">–º–∏–Ω—É—Ç—ã</div>
          </div>
          <div class="time-unit">
            <div class="time-value">5</div>
            <div class="time-label">—Å–µ–∫—É–Ω–¥—ã</div>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
        <div>–≠—Ç–∏ –ø–æ–¥–∞—Ä–∫–∏ –ø–æ–ª—É—á–∞—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ —Ç–æ–ø 200</div>
        <div style="display: flex; justify-content: center; gap: 20px; margin: 15px 0;">
          <div style="text-align: center;">
            <div style="font-size: 18px; font-weight: bold;">x20</div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 18px; font-weight: bold;">x10</div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 18px; font-weight: bold;">x5</div>
          </div>
        </div>
      </div>

      <div style="background: var(--card); border-radius: 12px; padding: 15px; margin: 15px 0;">
        <div style="display: flex; justify-content: space-between;">
          <div>100+</div>
          <div>–í—ã</div>
          <div>45</div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="depositModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('depositModal')">‚Üê</div>
        <div class="page-title">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
        <div class="close-btn" onclick="closeModal('depositModal')">√ó</div>
      </div>

      <div style="text-align: center; font-size: 24px; font-weight: bold; margin: 20px 0;" id="depositBalance">45</div>

      <div class="action-buttons">
        <div class="action-btn">TON +10%</div>
        <div class="action-btn active">CryptoBot +5%</div>
      </div>

      <div style="background: var(--card); border-radius: 12px; padding: 20px; margin: 20px 0; text-align: center;">
        <div style="font-size: 18px; font-weight: bold;">200 stars</div>
        <div style="color: var(--accent); font-weight: bold; margin: 10px 0;">+ –ë–æ–Ω—É—Å 10 –∑–≤–µ–∑–¥</div>
        <div style="color: #666; font-size: 14px;">~ $2,6</div>
      </div>

      <div class="action-buttons">
        <div class="action-btn">+ 500</div>
        <div class="action-btn active">+ 2 000</div>
        <div class="action-btn">+ 5 000</div>
      </div>

      <button class="spin-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
    </div>
  </div>

  <div class="modal" id="giftModal">
    <div class="modal-content">
      <div class="header">
        <div class="back-btn" onclick="closeModal('giftModal')">‚Üê</div>
        <div class="page-title">–ü–æ–¥–∞—Ä–∫–∏</div>
        <div class="close-btn" onclick="closeModal('giftModal')">√ó</div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
        <div style="font-weight: bold; margin-bottom: 10px;">–í–Ω–µ—Å–∏—Ç–µ –ø–æ–¥–∞—Ä–æ–∫</div>
        <div style="color: #666; font-size: 14px;">–ó–∞—Ç–µ–º –ø—Ä–æ–¥–∞–π—Ç–µ –µ–≥–æ –∑–∞ –∑–≤–µ–∑–¥—ã –Ω–∞ –±–∞–ª–∞–Ω—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∞–ø–≥—Ä–µ–π–¥–∞</div>
      </div>

      <button class="spin-btn">–î–æ–±–∞–≤–∏—Ç—å</button>

      <div style="margin-top: 20px;">
        <div style="font-weight: bold; margin-bottom: 15px;">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
          <div style="background: #2a2a2a; border-radius: 10px; padding: 15px; text-align: center;">
            <div>icecream</div>
            <div style="color: var(--accent); font-weight: bold;">226</div>
          </div>
          <div style="background: #2a2a2a; border-radius: 10px; padding: 15px; text-align: center;">
            <div>deskcalendar</div>
            <div style="color: var(--accent); font-weight: bold;">234</div>
          </div>
          <div style="background: #2a2a2a; border-radius: 10px; padding: 15px; text-align: center;">
            <div>bdaycandle</div>
            <div style="color: var(--accent); font-weight: bold;">237</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <div class="nav-item active" onclick="openSection('main')">
      <div>üéÅ</div>
      <div>–ö–µ–π—Å—ã</div>
    </div>
    <div class="nav-item" onclick="openModal('contestsModal')">
      <div>üèÜ</div>
      <div>–ö–æ–Ω–∫—É—Ä—Å—ã</div>
    </div>
    <div class="nav-item" onclick="openSection('tasks')">
      <div>üìù</div>
      <div>–ó–∞–¥–∞–Ω–∏—è</div>
    </div>
    <div class="nav-item" onclick="openModal('leadersModal')">
      <div>üëë</div>
      <div>–õ–∏–¥–µ—Ä—ã</div>
    </div>
    <div class="nav-item" onclick="openSection('profile')">
      <div>üë§</div>
      <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
    </div>
  </div>

  <script>
    // Initialize Telegram Web App
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // User Data Management
    let userData = {
      id: '',
      balanceStars: 1000,
      balanceCoins: 50,
      inventory: [
        { name: '–ö–µ–π—Å –æ–±—ã—á–Ω—ã–π', icon: 'üéÅ', count: 3 },
        { name: '–ö–µ–π—Å –ø—Ä–µ–º–∏—É–º', icon: 'üíé', count: 1 },
        { name: '–ë—É—Å—Ç–µ—Ä', icon: '‚ö°', count: 5 },
        { name: '–ë–∏–ª–µ—Ç', icon: 'üé´', count: 12 },
        { name: '–ö–ª—é—á', icon: 'üîë', count: 2 },
        { name: '–°—É–ø–µ—Ä–ø—Ä–∏–∑', icon: 'üèÜ', count: 1 }
      ]
    };

    // Initialize user data
    function initializeUser() {
      // Generate unique user ID if not exists
      let userId = localStorage.getItem('qwerty_user_id');
      if (!userId) {
        userId = 'QW' + Math.random().toString(36).substr(2, 9).toUpperCase();
        localStorage.setItem('qwerty_user_id', userId);
      }
      userData.id = userId;

      // Load balance from localStorage
      const savedStars = localStorage.getItem('balance_stars');
      const savedCoins = localStorage.getItem('balance_coins');
      if (savedStars) userData.balanceStars = parseInt(savedStars);
      if (savedCoins) userData.balanceCoins = parseInt(savedCoins);

      // Update UI
      updateUserUI();
    }

    function updateUserUI() {
      document.getElementById('userId').textContent = `ID: ${userData.id}`;
      document.getElementById('balanceStars').textContent = userData.balanceStars;
      document.getElementById('balanceCoins').textContent = userData.balanceCoins;
      document.getElementById('depositBalance').textContent = userData.balanceStars;

      // Update inventory
      const inventoryGrid = document.getElementById('inventoryGrid');
      inventoryGrid.innerHTML = '';
      userData.inventory.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'inventory-item';
        itemElement.innerHTML = `
          <div class="item-icon">${item.icon}</div>
          <div class="item-name">${item.name}</div>
          <div class="item-count">${item.count}</div>
        `;
        inventoryGrid.appendChild(itemElement);
      });
    }

    function saveBalance() {
      localStorage.setItem('balance_stars', userData.balanceStars);
      localStorage.setItem('balance_coins', userData.balanceCoins);
      updateUserUI();
    }

    // Navigation
    function openSection(sectionId) {
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
      
      // Update nav active state
      document.querySelectorAll('.nav-item').forEach(nav => {
        nav.classList.remove('active');
      });
      
      if (sectionId === 'main') {
        document.querySelectorAll('.nav-item')[0].classList.add('active');
      }
    }

    // Modal functions
    function openModal(modalId) {
      document.getElementById(modalId).classList.add('active');
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
    }

    // Case Wheel
    const caseItems = [
      { icon: '‚≠ê', amount: 50 },
      { icon: 'üí∞', amount: 100 },
      { icon: 'üëë', amount: 150 },
      { icon: 'üíé', amount: 200 },
      { icon: 'üéØ', amount: 250 },
      { icon: 'üî•', amount: 300 }
    ];

    function initializeCaseWheel() {
      const wheel = document.getElementById('caseWheel');
      wheel.innerHTML = '';
      
      // Add multiple copies for seamless looping
      for (let i = 0; i < 3; i++) {
        caseItems.forEach(item => {
          const caseElement = document.createElement('div');
          caseElement.className = 'wheel-item';
          caseElement.innerHTML = `
            <div class="wheel-icon">${item.icon}</div>
            <div class="wheel-amount">${item.amount}</div>
          `;
          wheel.appendChild(caseElement);
        });
      }
    }

    let isCaseSpinning = false;
    let currentCasePrice = 5000;

    function selectCasePrice(price) {
      currentCasePrice = price;
      document.querySelectorAll('.action-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      document.querySelector('.spin-btn').textContent = `–ö—Ä—É—Ç–∏—Ç—å –∑–∞ ${price}`;
    }

    function spinCaseWheel() {
      if (isCaseSpinning) return;
      if (userData.balanceStars < currentCasePrice) {
        alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!');
        return;
      }

      userData.balanceStars -= currentCasePrice;
      saveBalance();
      
      isCaseSpinning = true;
      const wheel = document.getElementById('caseWheel');
      
      // Reset position
      wheel.style.transition = 'none';
      wheel.style.transform = 'translateX(0)';
      
      setTimeout(() => {
        const spinDistance = 1500 + Math.random() * 800;
        wheel.style.transition = 'transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99)';
        wheel.style.transform = `translateX(-${spinDistance}px)`;
        
        setTimeout(() => {
          const winAmount = Math.floor(Math.random() * 500) + 50;
          userData.balanceStars += winAmount;
          saveBalance();
          alert(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –∑–≤–µ–∑–¥!`);
          isCaseSpinning = false;
        }, 3000);
      }, 50);
    }

    // Slots
    let isSlotsSpinning = false;
    const symbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üçâ', '7'];

    function spinSlots() {
      if (isSlotsSpinning) return;
      
      const betAmount = parseInt(document.getElementById('slotsBet').value) || 100;
      if (userData.balanceStars < betAmount) {
        alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!');
        return;
      }

      userData.balanceStars -= betAmount;
      saveBalance();
      
      isSlotsSpinning = true;
      const reels = [
        document.getElementById('reel1'),
        document.getElementById('reel2'), 
        document.getElementById('reel3')
      ];

      reels.forEach((reel, index) => {
        let spins = 0;
        const spinInterval = setInterval(() => {
          const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
          reel.querySelector('.reel-content').textContent = randomSymbol;
          spins++;
          
          if (spins > 8 + index * 3) {
            clearInterval(spinInterval);
            if (index === reels.length - 1) {
              setTimeout(() => {
                checkSlotsWin(reels, betAmount);
                isSlotsSpinning = false;
              }, 500);
            }
          }
        }, 100);
      });
    }

    function checkSlotsWin(reels, betAmount) {
      const results = Array.from(reels).map(reel => 
        reel.querySelector('.reel-content').textContent
      );
      
      let winMultiplier = 0;
      if (results[0] === results[1] && results[1] === results[2]) {
        winMultiplier = results[0] === '7' ? 10 : 5;
      } else if (results[0] === results[1] || results[1] === results[2]) {
        winMultiplier = 2;
      }

      if (winMultiplier > 0) {
        const winAmount = betAmount * winMultiplier;
        userData.balanceStars += winAmount;
        saveBalance();
        alert(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –∑–≤–µ–∑–¥!`);
      } else {
        alert('–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!');
      }
    }

    // Promo code
    function applyPromo() {
      const code = document.getElementById('promoCode').value;
      const promoCodes = {
        'WELCOME2024': 500,
        'QWERTY': 300,
        'BONUS': 200
      };
      
      if (promoCodes[code.toUpperCase()]) {
        const bonus = promoCodes[code.toUpperCase()];
        userData.balanceStars += bonus;
        saveBalance();
        alert(`–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! +${bonus} –∑–≤–µ–∑–¥`);
      } else {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥');
      }
    }

    // Initialize
    initializeUser();
    initializeCaseWheel();

    // Close modal when clicking outside
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });
    });

    // Button animations
    document.querySelectorAll('button, .action-btn, .menu-item').forEach(btn => {
      btn.addEventListener('click', function() {
        this.style.transform = 'scale(0.95)';
        setTimeout(() => {
          this.style.transform = 'scale(1)';
        }, 150);
      });
    });
  </script>
</body>
</html>
